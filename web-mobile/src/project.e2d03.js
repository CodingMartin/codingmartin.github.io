window.__require=function t(e,n,i){function c(a,s){if(!n[a]){if(!e[a]){var r=a.split("/");if(r=r[r.length-1],!e[r]){var l="function"==typeof __require&&__require;if(!s&&l)return l(r,!0);if(o)return o(r,!0);throw new Error("Cannot find module '"+a+"'")}}var u=n[a]={exports:{}};e[a][0].call(u.exports,function(t){return c(e[a][1][t]||t)},u,u.exports,t,e,n,i)}return n[a].exports}for(var o="function"==typeof __require&&__require,a=0;a<i.length;a++)c(i[a]);return c}({ActionRouter:[function(t,e,n){"use strict";cc._RF.push(e,"c2e9adf54BHYp9Uun2/++tR","ActionRouter"),cc.Class({extends:cc.Component,properties:{},onQuickStartClick:function(t){cc.director.loadScene("MainActivity")},onRankFriendClick:function(t){cc.director.loadScene("LeaderboardActivity")},onRankWorldClick:function(t){cc.isWx&&wx.showToast({title:"\u6682\u672a\u5f00\u653e,\u656c\u8bf7\u671f\u5f85",icon:"none"})},onRouteToHomeClick:function(t){cc.director.loadScene("HomeActivity")}}),cc._RF.pop()},{}],AppRequest:[function(t,e,n){"use strict";cc._RF.push(e,"63d5fz3ZEhOk5SBAJF5k6XV","AppRequest");cc.isWx;var i={login:function(t){this.loginCallback=this.loginCallback||t,wx.getUserInfo({success:function(t){console.log("success: ",t.rawData);var e=t.userInfo,n=e.nickName,i=e.avatarUrl,c="nickname="+n+"     avatar="+i;console.log("nickname="+n+"     avatar="+i),wx.showToast({title:c})},fail:function(t){console.log(t)}})},imageLoad:function(t,e,n){cc.loader.load({url:t,type:"png"},function(t,i){n&&(i?n(t,new cc.SpriteFrame(i,cc.Rect(0,0,e.width,e.height))):n(t))})}};e.exports=i,cc._RF.pop()},{}],AudioMng:[function(t,e,n){"use strict";cc._RF.push(e,"dcb85P8bNlNM7DAG0zmsrdM","AudioMng"),cc.Class({extends:cc.Component,properties:{homeBGM:{default:null,type:cc.AudioClip},gameBGM:{default:null,type:cc.AudioClip},buttonEFT:{default:null,type:cc.AudioClip},zhubajieEFT:{default:null,type:cc.AudioClip},tuziEFT:{default:null,type:cc.AudioClip},changeEFT:{default:null,type:cc.AudioClip},moveEFT:{default:null,type:cc.AudioClip},readyEFT:{default:null,type:cc.AudioClip}},_play:function(t){cc.audioEngine.playMusic(t,!0)},pause:function(){cc.audioEngine.pauseMusic()},resume:function(){cc.audioEngine.resumeMusic()},playHome:function(){this.homeBGM&&this._play(this.homeBGM)},playInGame:function(){this.gameBGM&&this._play(this.gameBGM)},_playEFT:function(t){cc.audioEngine.playEffect(t,!1)},playButton:function(){this.buttonEFT&&this._playEFT(this.buttonEFT)},playZhubajie:function(){this.zhubajieEFT&&this._playEFT(this.zhubajieEFT)},playTuzi:function(){this.tuziEFT&&this._playEFT(this.tuziEFT)},playChange:function(){this.changeEFT&&this._playEFT(this.changeEFT)},playMove:function(){this.moveEFT&&this._playEFT(this.moveEFT)},playReady:function(){this.readyEFT&&this._playEFT(this.readyEFT)}}),cc._RF.pop()},{}],ButtonExtra:[function(t,e,n){"use strict";cc._RF.push(e,"0a34dFWO4dDBZT3mxa72rYN","ButtonExtra"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.audioMng=cc.find("Menu/AudioMng")||cc.find("Settle/AudioMng")||cc.find("Rank/AudioMng"),this.audioMng&&(this.audioMng=this.audioMng.getComponent("AudioMng"))},start:function(){},onEnable:function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onButtonTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onButtonTouchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onButtonTouchEnd,this)},onDisable:function(){this.node.off(cc.Node.EventType.TOUCH_START,this.onButtonTouchStart,this),this.node.off(cc.Node.EventType.TOUCH_END,this.onButtonTouchEnd,this),this.node.off(cc.Node.EventType.TOUCH_CANCEL,this.onButtonTouchEnd,this)},onButtonTouchStart:function(t){this.node.stopActionByTag(111),this.node.stopActionByTag(222);var e=cc.scaleTo(.1,.9);e.setTag(111),this.node.runAction(e),this.audioMng&&this.audioMng.playButton()},onButtonTouchEnd:function(t){this.node.stopActionByTag(111),this.node.stopActionByTag(222);var e=cc.scaleTo(.1,1);e.setTag(222),this.node.runAction(e)}}),cc._RF.pop()},{}],ButtonGuide:[function(t,e,n){"use strict";cc._RF.push(e,"d27f4pCDPZKUoQ64PJB27Pk","ButtonGuide"),cc.Class({extends:cc.Component,properties:{normal:{default:null,type:cc.SpriteFrame},pressed:{default:null,type:cc.SpriteFrame}},onLoad:function(){this.selfSprite=this.node.getComponent(cc.Sprite),this.changeSpriteFrame(!1)},changeSpriteFrame:function(t){this.selfSprite.spriteFrame=t?this.pressed:this.normal}}),cc._RF.pop()},{}],Constants:[function(t,e,n){"use strict";cc._RF.push(e,"baa34G3owRJuIspk1A+vRWd","Constants"),e.exports={TAG_ROLE:1e3,TAG_FALLING:1001},cc._RF.pop()},{}],FallingThings:[function(t,e,n){"use strict";cc._RF.push(e,"08e7aNw9g9E7KzNK7I7zCKF","FallingThings");var i=t("Constants");cc.Class({extends:cc.Component,properties:{ySpeed:0,collisionRadius:0,score:0,fallingType:cc.String},onLoad:function(){this.pause=!1,this.yX=.2*this.node.parent.height,this.yX=this.node.parent.height/2-this.yX,cc.director.GlobalEvent.on("pause",this.onNodePauseMove,this)},onDestroy:function(){cc.director.GlobalEvent.off("pause")},onNodePauseMove:function(){this.pause=!0,cc.director.GlobalEvent.emit("fallingDismiss",{data:this.node}),this.node.removeFromParent()},start:function(){},update:function(t){this.pause||(this.node.y-=this.ySpeed*t,this.node.y<=-this.yX&&(cc.director.GlobalEvent.emit("fallingDismiss",{data:this.node}),this.node.removeFromParent()))},onCollisionEnter:function(t,e){t.tag==i.TAG_ROLE&&e.tag==i.TAG_FALLING&&(cc.director.GlobalEvent.emit("fallingDismiss",{data:this.node}),cc.director.GlobalEvent.emit("fallingConllision",{data:this.node,fallingScore:this.score,fallingType:this.fallingType}),this.node.removeFromParent())},updateExterior:function(t,e){this.pause=!1,this.score=t.scroe,this.fallingType=t.name,this.ySpeed=t.speed*e,this.node.getComponent(cc.Sprite).spriteFrame=t.skin}}),cc._RF.pop()},{Constants:"Constants"}],Fallings:[function(t,e,n){"use strict";cc._RF.push(e,"3f2c7lFe09AkajFLJyyzoVP","Fallings"),cc.Class({name:"Fallings",properties:{name:"",skin:{default:null,type:cc.SpriteFrame},scroe:{default:10,type:cc.Integer},speed:200,weight:{default:[],type:[cc.String]}}}),cc._RF.pop()},{}],GlobalEnv:[function(t,e,n){"use strict";cc._RF.push(e,"158f2gcIbZM745IpErB0Hge","GlobalEnv"),cc.isWx=cc.sys.browserType==cc.sys.BROWSER_TYPE_WECHAT_GAME,cc._RF.pop()},{}],GlobalEvent:[function(t,e,n){"use strict";cc._RF.push(e,"02923SnqCdJFLGb/0v+yPnK","GlobalEvent"),cc.director.GlobalEvent={handles_:{},emit:function(t,e){cc.director.emit(t,e)},on:function(t,e,n){console.log("\u6536\u5230\u4e8b\u4ef6",t),cc.director.on(t,e,n)},off:function(t){console.log("\u79fb\u9664\u4e8b\u4ef6",t),cc.director.off(t)}},cc._RF.pop()},{}],Home:[function(t,e,n){"use strict";cc._RF.push(e,"ec693tjykBNQo60d25DwBcm","Home");var i=t("AppRequest"),c=t("WXAbs");cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.requestWxAuthorize("init"),c.handleOnLoadInjectEnableShare()},requestWxAuthorize:function(t){var e=this;cc.isWx&&c.requestPermission(function(n,i){n&&i?(e.fillUserInfo(i),"rank"===t&&(cc.isWx&&wx.hideLoading(),cc.director.loadScene("LeaderboardActivity"))):("rank"===t&&(cc.isWx&&wx.hideLoading(),wx.showToast({title:"\u6392\u884c\u699c\u9700\u8981\u6388\u6743",icon:"none"})),e.updateUI(!1),e.requestPermission())})},hideAuthorizeLayout:function(){cc.find("Canvas/authorizeLayout").active=!1,this.permissionBtn&&this.permissionBtn.hide(),cc.sys.localStorage.setItem("authorized",!1),this.updateUI(!0)},requestPermission:function(){var t=this;cc.find("Canvas/authorizeLayout").active=!0;var e=c.setupUserInfoButton();this.permissionBtn=e,e.onTap(function(n){var i=cc.find("Canvas/authorizeLayout");e.hide(),i.active=!1,n.userInfo&&t.fillUserInfo(n.userInfo)})},fillUserInfo:function(t){var e=cc.find("Canvas/user_center/avatar_layout/avatar_mask/avatar");i.imageLoad(t.avatarUrl,e,function(n,i){if(i){cc.find("Canvas/user_center").active=!0,e.getComponent(cc.Sprite).spriteFrame=i,cc.find("Canvas/user_center/info_bg/nameView").getComponent(cc.Label).string=t.nickName;var c=cc.sys.localStorage.getItem("max_score")||0;cc.find("Canvas/user_center/info_bg/scoreView").getComponent(cc.Label).string=c?"\u5206\u6570:"+c:"\u5206\u6570:0"}}),cc.sys.localStorage.setItem("authorized",!0),cc.sys.localStorage.setItem("userinfo",JSON.stringify(t)),this.updateUI(!0)},updateUI:function(t){cc.find("Canvas/opera_layout").active=t},onFriendRankClick:function(){cc.isWx&&wx.showLoading({title:"\u6b63\u5728\u5904\u7406...",mask:!0}),this.requestWxAuthorize("rank")},start:function(){}}),cc._RF.pop()},{AppRequest:"AppRequest",WXAbs:"WXAbs"}],MainResultController:[function(t,e,n){"use strict";cc._RF.push(e,"71a07yKQkZDorH6QNwvdyG4","MainResultController"),cc.Class({extends:cc.Component,properties:{scoreView:{default:null,type:cc.RichText}},onLoad:function(){cc.director.preloadScene("HomeActivity")},start:function(){},onEnable:function(){if(this.scoreView){var t=cc.sys.localStorage.getItem("current_score");this.scoreView.string="<b><color=#000000>"+t+"\u5206</color></b>"}},onRegameClick:function(){cc.director.loadScene("MainActivity")},onInviteClick:function(){var t=cc.sys.localStorage.getItem("current_score");cc.isWx&&t&&abs.shareMessageFriend(t)},onHomeClick:function(){cc.director.loadScene("HomeActivity")}}),cc._RF.pop()},{}],Player:[function(t,e,n){"use strict";cc._RF.push(e,"92750/NVC5O64yLVLJ855LE","Player"),cc.Class({extends:cc.Component,properties:{moveSpeed:200},onLoad:function(){this.acceLeft=!1,this.acceRight=!1,this.xSpeed=0,this.node.parent.on(cc.Node.EventType.TOUCH_START,this.onUserTouchStart,this),this.node.parent.on(cc.Node.EventType.TOUCH_END,this.onUserTouchEnd,this),this.node.parent.on(cc.Node.EventType.TOUCH_CANCEL,this.onUserTouchEnd,this),this.audioMng=cc.find("Main/AudioMng").getComponent("AudioMng")},start:function(){},onUserTouchStart:function(t){var e=cc.winSize.width/2;this.acceLeft=t.getLocationX()<=e,this.acceRight=!this.acceLeft;var n=cc.find("Canvas/btn_left").getComponent("ButtonGuide"),i=cc.find("Canvas/btn_right").getComponent("ButtonGuide");this.acceLeft&&n?(n.changeSpriteFrame(!0),i.changeSpriteFrame(!1)):this.acceRight&&i&&(n.changeSpriteFrame(!1),i.changeSpriteFrame(!0)),this.audioMng&&this.audioMng.playMove()},onUserTouchEnd:function(t){var e=cc.find("Canvas/btn_left").getComponent("ButtonGuide"),n=cc.find("Canvas/btn_right").getComponent("ButtonGuide"),i=t.getLocationX(),c=cc.winSize.width/2;i<c?(this.acceLeft=!1,e&&e.changeSpriteFrame(!1)):i>c?(this.acceRight=!1,n&&n.changeSpriteFrame(!1)):(this.acceLeft=!1,this.acceRight=!1,this.xSpeed=0,e&&e.changeSpriteFrame(!1),n&&n.changeSpriteFrame(!1))},onDestroy:function(){this.node.parent.off(cc.Node.EventType.TOUCH_START,this.onUserTouchStart,this),this.node.parent.off(cc.Node.EventType.TOUCH_END,this.onUserTouchEnd,this),this.node.parent.off(cc.Node.EventType.TOUCH_CANCEL,this.onUserTouchEnd,this)},update:function(t){this.acceLeft?this.node.x-=t*this.moveSpeed:this.acceRight&&(this.node.x+=t*this.moveSpeed),this.node.x<-cc.winSize.width/2?this.node.x=-cc.winSize.width/2:this.node.x>cc.winSize.width/2-this.node.width&&(this.node.x=cc.winSize.width/2-this.node.width)}}),cc._RF.pop()},{}],PropThings:[function(t,e,n){"use strict";cc._RF.push(e,"8e0bb//wRJFP7q6zDx9u8Yb","PropThings"),cc.Class({extends:cc.Component,properties:{},start:function(){}}),cc._RF.pop()},{}],RankController:[function(t,e,n){"use strict";cc._RF.push(e,"85768buAHFBarTZ8fR4R9P/","RankController");var i=t("WXAbs");cc.Class({extends:cc.Component,properties:{btnBack:{default:null,type:cc.Node}},onLoad:function(){if(cc.isWx){var t=wx.getMenuButtonBoundingClientRect();this.btnBack.y=t.top;var e=cc.sys.localStorage.getItem("max_score")||0,n=JSON.parse(cc.sys.localStorage.getItem("userinfo")||"{}");i.postOpenContextData({target:"rank",score:e,nickname:n.nickName,imageUrl:n.avatarUrl})}cc.director.preloadScene("HomeActivity")},onBackClick:function(){i.postOpenContextData({target:"rank",execute:"back"}),cc.director.loadScene("HomeActivity")},start:function(){cc.director.preloadScene("HomeActivity")},onBtnPrev:function(){i.postOpenContextData({target:"rank",execute:"prev"})},onBtnNext:function(){i.postOpenContextData({target:"rank",execute:"next"})},onDestroy:function(){i.postOpenContextData({target:"rank",execute:"destroy"})}}),cc._RF.pop()},{WXAbs:"WXAbs"}],SettileController:[function(t,e,n){"use strict";cc._RF.push(e,"5e72dnY6FZAGLk3RKltX7oj","SettileController");var i=t("WXAbs");cc.Class({extends:cc.Component,properties:{btnHome:{default:null,type:cc.Node}},onLoad:function(){if(cc.director.preloadScene("MainActivity"),cc.isWx){var t=wx.getMenuButtonBoundingClientRect();this.btnHome.y=t.top;var e=cc.sys.localStorage.getItem("current_score")||0,n=JSON.parse(cc.sys.localStorage.getItem("userinfo")||"{}");i.postOpenContextData({target:"result",score:e,nickname:n.nickName,imageUrl:n.avatarUrl})}},start:function(){},onInviteChallengeClick:function(){var t=cc.sys.localStorage.getItem("current_score")||0;cc.isWx&&t&&i.shareMessage(t)},onShareBtnClick:function(){var t=cc.sys.localStorage.getItem("current_score")||0;cc.isWx&&t&&i.shareMessage(t)},onHomeBtnClick:function(){cc.director.loadScene("HomeActivity")},onCircleBtnClick:function(){this.capture()},capture:function(){cc.isWx&&(cc.Canvas.instance.toTempFilePath({destWidth:400,destHeight:300,success:function(t){wx.saveImageToPhotosAlbum({filePath:t.tempFilePath,success:function(e){console.log("\u6587\u4ef6\u5b58\u50a8\u8def\u5f84\uff1a"+t.tempFilePath),wx.showToast({title:"\u6587\u4ef6\u5df2\u4fdd\u5b58\u5230->"+t.tempFilePath,icon:"success"})},fail:function(){wx.showToast({title:"\u6587\u4ef6\u4fdd\u5b58\u5931\u8d25",icon:"none"})}})}}),cc.game.canvas.toTempFilePath({destWidth:400,destHeight:300,success:function(t){wx.saveImageToPhotosAlbum({filePath:t.tempFilePath,success:function(e){console.log("\u6587\u4ef6\u5b58\u50a8\u8def\u5f84\uff1a"+t.tempFilePath),wx.showToast({title:"\u6587\u4ef6\u5df2\u4fdd\u5b58\u5230->"+t.tempFilePath,icon:"success"})},fail:function(){wx.showToast({title:"\u6587\u4ef6\u4fdd\u5b58\u5931\u8d25",icon:"none"})}})}}))},onDestroy:function(){i.postOpenContextData({target:"result",execute:"destroy"})}}),cc._RF.pop()},{WXAbs:"WXAbs"}],UIController:[function(t,e,n){"use strict";cc._RF.push(e,"f1e77ODgXtJgrWCndVLKVLE","UIController");var i=t("Utils"),c=t("Fallings");cc.Class({extends:cc.Component,properties:{fallingPrefab:{default:null,type:cc.Prefab},fallings:{default:[],type:c},failedPlayerSkin:{default:null,type:cc.SpriteFrame},acceFactor:{default:1,min:1,max:2.5,tooltip:"\u901f\u5ea6\u500d\u6570",displayName:"\u52a0\u901f\u56e0\u5b50"},fallingTotalNums:{default:5,type:cc.Integer,range:[3,30,1],slide:!0,displayName:"\u540c\u5c4f\u6570\u91cf",tooltip:"\u6700\u5927\u540c\u5c4f\u6570\u91cf"},fallingCreateNums:{default:1,type:cc.Integer,range:[1,3,1],slide:!0,displayName:"\u5760\u843d\u7269\u7684\u4e2a\u6570",tooltip:"\u6bcf\u79d2\u6700\u591a\u751f\u6210\u5760\u843d\u7269\u7684\u4e2a\u6570"},refreshTime:{default:1,range:[.5,2,1],slide:!0,displayName:"\u5237\u65b0\u7684\u6700\u5927\u95f4\u9694",tooltip:"\u5237\u65b0\u7684\u6700\u5927\u95f4\u9694"},maxAcceFactor:{default:2.5,range:[1,2.5,1],slide:!0,displayName:"\u6700\u5927\u7684\u52a0\u901f\u56e0\u5b50",tooltip:"\u6700\u5927\u7684\u52a0\u901f\u56e0\u5b50"},minRefreshTime:{default:.6,range:[.2,1,1],displayName:"\u6700\u5c0f\u7684\u5237\u65b0\u95f4\u9694",tooltip:"\u6700\u5c0f\u7684\u5237\u65b0\u95f4\u9694"},refreshChangeCycle:{default:.05,range:[.05,.2,.1],displayName:"\u5237\u65b0\u53d8\u5316\u6bcf\u6b21\u6570",tooltip:"\u5237\u65b0\u53d8\u5316\u6bcf\u6b21\u6570"},acceFactorChangeCycle:{default:.1,range:[.1,.5,.1],displayName:"\u52a0\u901f\u56e0\u5b50\u6bcf\u6b21\u53d8\u5316\u6570",tooltip:"\u52a0\u901f\u56e0\u5b50\u6bcf\u6b21\u53d8\u5316\u6570"}},onLoad:function(){var t=this;cc.director.getCollisionManager().enabled=!0,this.fallingPool=new cc.NodePool("falling"),this.ssFallingNums=0,this.gameOver=!1,this.weightArr=[],this.weightIndex=0,this.weightCallbackHandler(),this.randomCreateFalling(),this.scheduleCallback=function(){this.acceFactor!==this.maxAcceFactor?(this.acceFactor+=this.acceFactorChangeCycle,this.refreshTime>=this.minRefreshTime&&(this.refreshTime-=this.refreshChangeCycle,this.randomCreateFalling())):this.acceFactor>=this.maxAcceFactor&&t.unschedule(t.scheduleCallback)},this.scroeLabelView=cc.find("Canvas/scroe_layout/scroeView").getComponent(cc.Label),this.scroe=0,this.scroeLabelView.string="\u79ef\u5206:"+this.scroe,this.audioMng=cc.find("Main/AudioMng").getComponent("AudioMng"),this.audioMng&&this.audioMng.playReady(),this.audioMng&&this.audioMng.playInGame(),cc.director.GlobalEvent.on("fallingDismiss",this._recycleFalling,this),cc.director.GlobalEvent.on("fallingConllision",this._updateFallingConllision,this),this.schedule(this.scheduleCallback,5),this.schedule(this.weightCallbackHandler,12)},weightCallbackHandler:function(){var t=this;4>=this.weightIndex?(this.weightArr=[],this.fallings.forEach(function(e){t.weightArr.push({name:e.name,weight:e.weight[t.weightIndex]})}),this.fallingTotalNums+=2*this.weightIndex+6,this.weightIndex++):this.unschedule(this.weightScheduleCallback)},randomCreateFalling:function(){var t=this,e=cc.repeatForever(cc.sequence(cc.delayTime(this.refreshTime),cc.callFunc(function(){this.ssFallingNums<this.fallingTotalNums&&t.createFallings()},this)));e.setTag(11),this.node.stopActionByTag(125),this.node.runAction(e)},onDestroy:function(){cc.director.getCollisionManager().enabled=!1,cc.director.GlobalEvent.off("fallingDismiss"),cc.director.GlobalEvent.off("fallingConllision"),this.unschedule(this.scheduleCallback),this.unschedule(this.weightCallbackHandler),this.audioMng.pause()},_recycleFalling:function(t){this.fallingPool.put(t.data),this.ssFallingNums--},_updateFallingConllision:function(t){if("zhubajie"!==t.fallingType||this.gameOver)this.gameOver||("change"===t.fallingType?this.audioMng&&this.audioMng.playChange():"tuzi"===t.fallingType&&this.audioMng&&this.audioMng.playTuzi(),this.scroe+=t.fallingScore,this.scroeLabelView.string="\u79ef\u5206:"+this.scroe);else{cc.find("Canvas/Player").getComponent(cc.Sprite).spriteFrame=this.failedPlayerSkin,this.gameOver=!0,cc.sys.localStorage.setItem("current_score",this.scroe);var e=cc.sys.localStorage.getItem("max_score")||0;this.scroe>e&&cc.sys.localStorage.setItem("max_score",this.scroe),this.node.stopActionByTag(125),this.audioMng&&this.audioMng.playZhubajie(),cc.director.emit("pause"),this.scheduleOnce(function(t){var e=cc.sys.localStorage.getItem("authorized")||!1;cc.isWx&&!0===e?cc.director.loadScene("SettleActivity"):(cc.find("Canvas/unauthLayout").active=!0,cc.find("Canvas/btn_left").active=!1,cc.find("Canvas/btn_right").active=!1,cc.find("Canvas/Player").active=!1,cc.find("Canvas/scroe_layout").active=!1,this.unschedule(this.scheduleCallback),this.unschedule(this.weightCallbackHandler),this.audioMng.pause())},1),cc.director.getCollisionManager().enabled=!1}},createFallings:function(){if(!this.gameOver){var t=void 0;t=this.fallingPool.size()>0?this.fallingPool.get():cc.instantiate(this.fallingPrefab);var e=-cc.winSize.width/2+30,n=cc.winSize.width/2-30,c=cc.winSize.height/2,o=i.withRandom(e,n);t.x=o,t.y=c;var a=i.randomFallingType(this.weightArr),s=this.fallings[a];t.getComponent("FallingThings").updateExterior(s,this.acceFactor);var r=cc.find("Canvas");t.parent=r,this.ssFallingNums++}}}),cc._RF.pop()},{Fallings:"Fallings",Utils:"Utils"}],Utils:[function(t,e,n){"use strict";function i(t){var e,n=0,i=!1;Math.gcd=function(t,e){var n=Math.min(t,e),i=Math.max(t,e),c=1;if(0===t||0===e)return i;for(var o=n;o>=1;o--)if(n%o==0&&i%o==0){c=o;break}return c};for(var c=new Array,o=0;o<t.length;o++)void 0!==t[o].weight?-1!==t[o].weight.toString().indexOf("%")?(e=Math.floor(t[o].weight.toString().replace("%","")),i=!0):e=Math.floor(100*t[o].weight):e=0,c[o]=e,n=Math.gcd(n,e);var a=new Array,s=0,r=0;if(i){for(o=0;o<t.length;o++){r=c[o];for(var l=0;l<r&&!(s>=100);l++)a.push(o),s++}for(;s<100;)a.push(t.length-1),s++}else for(o=0;o<t.length;o++){r=c[o]/n;for(l=0;l<r;l++)a.push(o);s+=r}return a[Math.floor(Math.random()*s)]}cc._RF.push(e,"839aa/Ud1BDypSQLH8Mb8F6","Utils"),e.exports={withRandom:function(t,e){return Math.floor(Math.random()*(e-t+1)+t)},withFalling:function(){switch(i().name){case"yuebing":return{tag:"yuebing",skin:"",score:50,speed:100};case"zhadan":return{tag:"zhadan",skin:"",score:-150,speed:150};case"change":return{tag:"change",skin:"",score:150,speed:200}}return null},randomFallingType:i},cc._RF.pop()},{}],WXAbs:[function(t,e,n){"use strict";cc._RF.push(e,"e8ff367ylhAPJDxWCONlqVB","WXAbs");var i=[{text:"\u4f60\u80fd\u4e0a\u4e00\u767e\u5206,\u6211\u53eb\u4f60\u7238\u7238",img:"1"},{text:"\u4e2d\u79cb\u8282\u665a\u4e0a\uff0c\u5929\u4e0a\u6389\u4e0b\u732a\u516b\u6212?!",img:"2"}],c=[{text:"\u63a5\u59b9\u5b50\u63a5\u5230\u624b\u8f6f\uff01\u6211\u63a5\u4e86XX\u5206\uff0c\u4f60\u8bd5\u8bd5",img:"3"},{text:"\u6211\u5f97\u4e86XX\u5206\uff0c\u8d85\u8d8a\u6211\u8bf7\u4f60\u5403\u6708\u997c",img:"4"}],o={setupUserInfoButton:function(){var t=wx.getSystemInfoSync(),e=.5*(t.windowWidth-100),n=.58*(t.windowHeight-60);return wx.createUserInfoButton({type:"text",text:"\u5f00\u59cb\u6388\u6743",style:{left:e,top:n,width:100,height:60,lineHeight:60,color:"#3c3c3c",textAlign:"center",fontSize:16}})},requestPermission:function(t){wx.getUserInfo({success:function(e){e?t(!0,e.userInfo):t(!1,null)},fail:function(){t(!1,null)}})},shareMessage:function(t){var e=void 0,n=(e=Math.random()>=.5?c[1]:c[0]).text.replace("XX",t);wx.shareAppMessage({title:n,imageUrl:cc.url.raw("resources/share/share"+e.img+".jpg")})},postOpenContextData:function(t){wx.getOpenDataContext().postMessage(t)},handleOnLoadInjectEnableShare:function(){cc.isWx&&(wx.showShareMenu(),wx.onShareAppMessage(function(){var t=void 0;return{title:(t=Math.random()>=.5?i[1]:i[0]).text,imageUrl:cc.url.raw("resources/share/share"+t.img+".jpg")}}))},handleOnLoadInjectDisableShare:function(){}};e.exports=o,cc._RF.pop()},{}]},{},["ActionRouter","AppRequest","AudioMng","ButtonExtra","ButtonGuide","Constants","FallingThings","Fallings","GlobalEnv","GlobalEvent","Home","MainResultController","Player","PropThings","RankController","SettileController","UIController","Utils","WXAbs"]);